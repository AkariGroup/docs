***********************************************************
サンプルアプリを動かそう
***********************************************************

AKARIのサンプルアプリを動かしてみましょう。

===========================================================
仮想環境の有効化
===========================================================

仮想環境を有効化していなければ、下記のコマンドで仮想環境を有効化します。

.. code-block:: bash

   cd ~/akari_software
   source venv/bin/activate

.. tip::

   venvを終了したい場合は下記コマンドを実行します。

   .. code-block:: bash

      deactivate

===========================================================
アプリのディレクトリへの移動
===========================================================

最初にサンプルアプリの保存先のディレクトリへ移動しましょう。

   .. code-block:: bash

      $ cd samples/akari_sample/script

===========================================================
モータの制御
===========================================================

1a.モータ制御

ヘッドのモータ制御サンプルです。実行するとヘッドが速度を変えながら動きます。

   .. code-block:: bash

      $ python3 1a_motor_control.py

===========================================================
環境情報の取得
===========================================================

2a.ボタン入力

| ボタン入力のサンプルです。M5のボタンを押すとコマンドラインに押したボタン(A~C)のメッセージが出力されます。
| コマンドライン上でCtrl+Cを押すと終了します。

   .. code-block:: bash

      $ python3 2a_button.py

2b.GPIO入力

| GPIO入力のサンプルです。コマンドラインにヘッドのGPIOデジタル入力(din0,din1)とアナログ入(ain0)の現在値が一定間隔で出力されます。
| コマンドライン上でCtrl+Cを押すと終了します。

   .. code-block:: bash

      $ python3 2b_gpio_input.py

2c.GPIO出力

| GPIO出力のサンプルです。コマンドラインにヘッドのGPIOデジタル出力(dout0,dout1)とPWM出力(pwmout0)の現在値が一定間隔で出力されます。
| コマンドライン上でCtrl+Cを押すと終了します。

   .. code-block:: bash

      $ python3 2c_gpio_output.py

2d.環境センサ

| 環境センサのサンプルです。コマンドラインに気圧、温度、明るさセンサの現在値が一定間隔で出力されます。
| コマンドライン上でCtrl+Cを押すと終了します。

   .. code-block:: bash

      $ python3 2d_env_info.py

===========================================================
GPIO出力の取得
===========================================================

3a.GPIO出力制御

GPIO出力制御のサンプルです。各ステップごとにGPIOデジタル出力(dout0,dout1)とPWM出力(pwmout0)が変化します。

   .. code-block:: bash

      $ python3 3a_gpio_control.py

===========================================================
ディスプレイ制御
===========================================================

4a.ディスプレイ背景カラー出力

| ディスプレイ背景カラー変更のサンプルです。各ステップごとにM5の背景カラー変更を行います。
| コマンドライン上でCtrl+Cを押すと終了します。

   .. code-block:: bash

      $ python3 4a_display_color.py

4b.ディスプレイテキスト出力

| ディスプレイテキスト出力のサンプルです。ステップごとにM5の画面にテキストを出力します。
| コマンドライン上でCtrl+Cを押すと終了します。

   .. code-block:: bash

      $ python3 4b_display_text.py

4c.ディスプレイ画像出力

| ディスプレイ画像出力のサンプルです。ステップごとにM5の画面の様々な位置にサイズを変えた画像を出力します。
| コマンドライン上でCtrl+Cを押すと終了します。

   .. code-block:: bash

      $ python3 4c_display_image.py

===========================================================
その他の制御
===========================================================

5a.M5リセット

| M5リセットのサンプルです。一定時間ごとにM5をリセットします。
| コマンドライン上でCtrl+Cを押すと終了します。

   .. code-block:: bash

      $ python3 5a_reset_m5.py

===========================================================
カメラ
===========================================================

6a.カメラRGB映像のストリーミング

| ヘッドのOAK-DカメラのRGB映像をストリーミングするサンプルです。ウィンドウが開きカメラ映像が表示されます。
| カメラ映像のウインドウ上で `q` を押すと終了します。

   .. code-block:: bash

      $ python3 6a_camera_image_rgb.py

6b.カメラステレオdepth映像のストリーミング

| ヘッドのOAK-Dカメラのステレオdepth映像をストリーミングするサンプルです。ウィンドウが開きカメラ映像が表示されます。
| カメラ映像のウインドウ上で `q` を押すと終了します。

   .. code-block:: bash

      $ python3 6b_camera_image_stereo_depth.py

:doc:`test_detection` へ進む

:doc:`main` へ戻る